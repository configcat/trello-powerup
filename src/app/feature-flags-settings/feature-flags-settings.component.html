<div id="setting-item">
    <app-loader *ngIf="loading"> </app-loader>
    <div class="container" *ngIf="!loading && !authorizationParameters">
        <configcat-authorization (error)="error()" (authorized)="login($event)"></configcat-authorization>
    </div>
    <div class="container" *ngIf="!loading && authorizationParameters && showError">
        <div class="error">
            <p><b>Something went wrong!</b></p>
            <p>Please try again later or for more inforamtion check the console logs.</p>
        </div>
    </div>
    <div class="container" *ngIf="!loading && authorizationParameters && integrationLinkDetails">
        <div *ngFor="let integrationLinkDetail of integrationLinkDetails">
            <configcat-setting-item [basicAuthUsername]="authorizationParameters.basicAuthUsername"
                [basicAuthPassword]="authorizationParameters.basicAuthPassword"
                [productId]="integrationLinkDetail.product.productId" [configId]="integrationLinkDetail.config.configId"
                [environmentId]="integrationLinkDetail.environment.environmentId"
                [settingId]="integrationLinkDetail.setting.settingId"
                (deleteSettingRequested)="onDeleteSettingRequested($event)" (saveSucceeded)="saveSucceeded()"
                (loadSucceeded)="loadSucceeded()" (formValuesChanged)="onFormValuesChanged()"
                deleteSettingText="Remove from card" [showEnvironmentName]="true">
            </configcat-setting-item>
        </div>
    </div>
</div>